# Potential-Field-navigation
For robots

![robot-diff](https://user-images.githubusercontent.com/47783157/67629040-6077cb80-f870-11e9-8080-4224a203ac94.png)

Welcome to the Potential-Field-navigation

I will explain the working of the potential field method for robot autonomous navigation. I will share also a code on arduino and a demonstration in real life.


# Hardware :

Robot from the French startup Mr.Robotics & Teensy 3.5 based on an ARM Cortex M4
for more details visit : https://www.mr-robotics.com/

# Software : Arduino IDE

![Capture](https://github.com/UcefMountacer/Potential-Field-navigation/blob/master/ressources/cpp%20code.png?raw=true)

# **========== WIKI ==========**

# How it works

the method consists in determining a trajectory that allows a mobile robot to reach a desired position while avoiding the obstacles associated with the system evolution environment. The method studied is based on the mathematical notion of the potential fields.

![Capture](https://user-images.githubusercontent.com/47783157/67629056-d2e8ab80-f870-11e9-9902-eb4a0b7f24da.JPG)

**with different parameters**


The mobile robot is considered to be a particle whose position is noted moving along the lines of current of a potential obtained by the perception of the environment (laser scanner,
sonar...). The force F(q) acting on the robot at a given position q=[x,y] is defined as being proportional to the gradient
potential function U

                                          F(q) = −∇U(q)

Two types of potential will be defined:
• Attractive potential Ua: acting as attractor to the desired position
• repellent potential Ur: to repel the particle to avoid areas, obstacles...

The potential generated at position q considering N obstacles will be defined as:

                                  U(q) = Ua(q) + Ur1(q)+....+UrN(q)

Likewise, the total force acting on the system at point q can be written as:

                                  F(q) = −∇U(q) = Fa(q) + Fr1(q)+...+FrN(q)

### Attractive potential
There are several potential functions to play the role of attractor. The function used here is the function that depends linearly on the distance to the objective qd:

                                  Ua(q) = ka * ||qd − qk|| , ka > 0.

ka being the setting parameter of the attractive action.

### Repulsive potential
Suppose we want to avoid an obstacle located in qo and that the system is in the q position. A potential repellent can be given by:

                                  Ur(q) = Kr / ||qo-q|| , kr > 0 .

### Vehicle control
We consider in the following a mobile robot type unicycle (in practice: 2 motorized wheels). Noting q = [x y]
the position of the center of the robot, θ the direction angle of the robot and v the linear speed of the wheels.
The kinematic model is given by:

                                  x˙ = v cos (θ), y˙ = v sin (θ). 

The guidance of the robot can be achieved by the drop of the gradient of the previously defined potential. This approach will come down to choosing, at the position q, the direction angle θ which corresponds to the direction of the total force F generated by the different potential fields:

                                 θ = ∠ F (q) = tan-1 (Fy / Fx).

The Matlab and Arduino codes show this clearly!

### Hardware

![robot-diff](https://user-images.githubusercontent.com/47783157/67629048-92892d80-f870-11e9-9c5e-a378335a1d5d.png)

The robot used is the one above from [Mr.Robotics](https://www.mr-robotics.com/fr/)

The development borad is the Teensy 3.5 based on ARM Cortex 4, as long as different modules, all in a single printed circuit:

![teensy](https://user-images.githubusercontent.com/47783157/67629050-a2a10d00-f870-11e9-9d8c-9d39ec4d4a66.jpg)
